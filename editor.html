<!DOCTYPE html>
<html lang="kr"><head>
	<meta charset="utf-8">
	<title>KBotHub</title>
	<link rel="shortcut icon" type="image/jpg" href="https://kboteditor.kro.kr/img/output-onlinepngtools.ico">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://kboteditor.kro.kr/">
	<meta property="og:title" content="KakaotalkBot Hub">
	<meta property="og:description" content="카카오톡 봇 허브입니다.">
	<meta property="og:image" content="https://kboteditor.kro.kr/img/grp_img.jpg">
	<meta name="description" content="봇 허브 입니다">
	<meta name="keywords" content="온라인 메신저봇">
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<link rel="stylesheet" href="https://kboteditor.kro.kr/fonts/fonts.css">
	<script src="https://requirejs.org/docs/release/2.3.6/comments/require.js"></script>
</head>
<body>
  <div id="monaco_container"></div>
  
  <style>
  #container {
  	position: absolute;
  	left: 0;
  	top: 0;
  	width: 100%;
  	height: 100%;
  	margin: 0;
  	padding: 0;
  	overflow: hidden;
  }
  </style>
  
  <script>
  var _data = {
    'project': {
      'scriptName': '스크립트 이름'
    }
  }
  
  require.config({ paths: { 'vs': 'https://unpkg.com/monaco-editor@0.8.3/min/vs' }});
  window.MonacoEnvironment = { getWorkerUrl: () => proxy };
  
  let proxy = URL.createObjectURL(new Blob([`
  	self.MonacoEnvironment = {
  		baseUrl: 'https://unpkg.com/monaco-editor@0.8.3/min/'
  	};
  	importScripts('https://unpkg.com/monaco-editor@0.8.3/min/vs/base/worker/workerMain.js');
  `], { type: 'text/javascript' }));
  
  require(["vs/editor/editor.main"], function () {
	  let editor = monaco.editor.create(document.getElementById('monaco_container'), {
		  value: [
        'const scriptName = \"'+_data.project.scriptName+'\";',
        '/**',
        ' * (string) room',
        ' * (string) sender',
        ' * (boolean) isGroupChat',
        ' * (void) replier.reply(message)',
        ' * (boolean) replier.reply(room, message, hideErrorToast = false) // 전송 성공시 true, 실패시 false 반환',
        ' * (string) imageDB.getProfileBase64()',
        ' * (string) packageName',
        ' */',
        'function response(room, msg, sender, isGroupChat, replier, imageDB, packageName) {',
        '\t//여기에 코드를 입력',
        '}',
        '',
        '//아래 4개의 메소드는 액티비티 화면을 수정할때 사용됩니다.',
        'function onCreate(savedInstanceState, activity) {',
        '\tvar textView = new android.widget.TextView(activity);',
        '\ttextView.setText("Hello, World!");',
        '\ttextView.setTextColor(android.graphics.Color.DKGRAY);',
        '\tactivity.setContentView(textView);',
        '}',
        '',
        'function onStart(activity) {}',
        '',
        'function onResume(activity) {}',
        '',
        'function onPause(activity) {}',
        '',
        'function onStop(activity) {}'
		  ].join('\n'),
		  language: 'javascript',
		  theme: 'vs-dark'
	  });
	  
	  editor.addListener('didType', () => {
	  	console.log(editor.getValue());
  	});
  });
  </script>
</body>
</html>
