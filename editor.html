<!DOCTYPE html>
<html lang="kr">

<head>
    <meta charset="utf-8">
    <title>KBotHub</title>
    <link rel="shortcut icon" type="image/jpg" href="https://kboteditor.kro.kr/img/output-onlinepngtools.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kboteditor.kro.kr/">
    <meta property="og:title" content="KakaotalkBot Hub">
    <meta property="og:description" content="카카오톡 봇 허브입니다.">
    <meta property="og:image" content="https://kboteditor.kro.kr/img/grp_img.jpg">
    <meta name="description" content="봇 허브 입니다">
    <meta name="keywords" content="온라인 메신저봇">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <link rel="stylesheet" href="https://kboteditor.kro.kr/fonts/fonts.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.16.2/min/vs/loader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.nls.ko.min.js" integrity="sha512-U8YelzjWDfaIsBOsxt74prIl1r1BSvuDlGg++0EDlTE23cLfzFc8c26rMCPhbk9SmGDoWzDJEnDLYU0Cj8jXKQ==" crossorigin="anonymous"></script>
</head>

<body>
    <div id="monaco_container"></div>

    <style>
        html,
        body,
        #monaco_container {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    </style>

    <script>
        var _data = {
            'project': {
                'scriptName': '스크립트 이름'
            },
        };
        _data.value= [
                'const scriptName = \"' + _data.project.scriptName + '\";',
                '/**',
                ' * (string) room',
                ' * (string) sender',
                ' * (boolean) isGroupChat',
                ' * (void) replier.reply(message)',
                ' * (boolean) replier.reply(room, message, hideErrorToast = false) // 전송 성공시 true, 실패시 false 반환',
                ' * (string) imageDB.getProfileBase64()',
                ' * (string) packageName',
                ' */',
                'function response(room, msg, sender, isGroupChat, replier, imageDB, packageName) {',
                '\t//여기에 코드를 입력',
                '}',
                '',
                '//아래 4개의 메소드는 액티비티 화면을 수정할때 사용됩니다.',
                'function onCreate(savedInstanceState, activity) {',
                '\tvar textView = new android.widget.TextView(activity);',
                '\ttextView.setText("Hello, World!");',
                '\ttextView.setTextColor(android.graphics.Color.DKGRAY);',
                '\tactivity.setContentView(textView);',
                '}',
                '',
                'function onStart(activity) {}',
                '',
                'function onResume(activity) {}',
                '',
                'function onPause(activity) {}',
                '',
                'function onStop(activity) {}'
        ].join('\n')


        var editor;

        require.config({
            paths: {
                'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.16.2/min/vs'
            }
        });
        require(['vs/editor/editor.main'], function() {
            editor = monaco.editor.create(document.getElementById('monaco_container'), {
                value: _data.value,
                language: 'javascript',
                theme: 'vs-dark',
                fontFamily: 'JetBrainsMono-Regular',
                automaticLayout: true
            });

            editor.onDidChangeModelContent((d)=>{
                //editor.getValue() 를 저장
                //새로고침 신호 전송
            });

            editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KEY_S, function() {
                //여기도 저장 소스
                //새로고침 신호 전송
            });
            
            editor.onDidChangeCursorSelection((d)=>{
                //d.selection, 시간, 유저 자장
                //새로고침 신호 전송
            });
        });
    </script>
    <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-app.js"></script>

    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-firestore.js"></script>
      <!-- Previously loaded Firebase SDKs -->

    <script>
      // TODO: Replace the following with your app's Firebase project configuration
	  var firebaseConfig = {
	    apiKey: "AIzaSyBsvjuWiZBTEoBJWMvih4q7JHH6gmHF1X0",
	    authDomain: "editor-280309.firebaseapp.com",
	    databaseURL: "https://editor-280309.firebaseio.com",
	    projectId: "editor-280309",
	    storageBucket: "editor-280309.appspot.com",
	    messagingSenderId: "836598450292",
	    appId: "1:836598450292:web:35d0ab7d3e13faf7bba921",
	    measurementId: "G-RJNBM8TLLK"
	  };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);

      // Get a reference to the database service
      var database = firebase.database();
    </script>
    </body>
</html>
